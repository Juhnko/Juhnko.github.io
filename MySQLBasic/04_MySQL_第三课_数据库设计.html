
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='03_MySQL_第二课_数据库的数据类型、列属性、数据完整性、外键.html'>03_MySQL_第二课_数据库的数据类型、列属性、数据完整性、外键</a>, Previous: <a href='05_MySQL_第四课_数据库查询01_单表查询.html'>05_MySQL_第四课_数据库查询01_单表查询</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>04_MySQL_第三课_数据库设计   </h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><ul><li>数据库的基本概念<br></li><li>实体与实体之间的关系</li><li>数据库设计的步骤</li><li>数据规范化</li></ul></div><div class="cell text-cell"><h2>一、数据库的基本概念</h2></div><div class="cell text-cell"><ul><li>关系：<b><font color="#323232" style="background-color: rgb(254, 250, 0);">两个表的</font><font color="#323232" style="background-color: rgb(254, 250, 0);"><u>公共字段</u></font></b></li><li>行：也称记录，也称实体&lt;——面向对象的角度</li><li>列：也称字段，也称属性&lt;——面向对象的角度</li></ul></div><div class="cell markdown-cell"><p><img src="resources/E1AA912F6EF7CA2283FF8CDBCB74A507.png" alt="QQ截图20210916091601.png" width="1201" height="723"></p>
</div><div class="cell text-cell"><ul><ul><li>对表结构而言，表分为行和列；</li><li>对表数据而言，表分为记录和字段；</li><li>就面向对象而言，一个记录就是一个实体；一个字段就是一个属性。</li></ul></ul></div><div class="cell text-cell"><ul><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">数据冗余</font></b>：相同的数据存储在不同的地方。</li><ul><li><b>冗余只能减少，不能杜绝</b>。</li><ul><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">减少冗余的方法：添加表，分割表。</font></b></li><ul><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">分表后查询速度慢，只是记录显示下，允许冗余。</font></b></li></ul></ul></ul><li>数据完整性：正确性+准确性=数据完整性</li><ul><li>正确性：数据类型正确</li><li>准确性：数据范围准确</li></ul></ul><br><ul><ul><li>失去数据的<b><font color="#323232" style="background-color: rgb(254, 250, 0);">实体完整性</font></b>。</li><li>失去数据的<b><font color="#323232" style="background-color: rgb(254, 250, 0);">域完整性</font></b>。</li></ul></ul></div><div class="cell text-cell"><br><div><br></div><div><br></div></div><div class="cell text-cell"><h2>二、实体与实体之间的关系</h2></div><div class="cell markdown-cell"><p><img src="resources/26EEF96BC166E85391884175241E9392.png" alt="QQ截图20210916093357.png" width="1114" height="712"></p>
</div><div class="cell text-cell"><ul><li><font color="#323232" style="background-color: rgb(254, 250, 0);"><b>一对多 1:N</b></font></li><ul><li><b>主键</b>和<b>非主键</b>建立关系。</li><li><span style="caret-color: rgb(50, 50, 50);">最常见的关系。</span></li><li>主表中的一条记录对应从表中的多条记录。</li></ul><li><b>一对一 1:1</b></li><ul><li><b>主键</b>和<b>主键</b>建立关系。</li><li>查询常用信息，提高效率。</li><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">数据库的优化上使用，对表的垂直分割！！！</font></b></li></ul><li><b>多对多 N:M</b></li><ul><li>主表中的一条记录对应从表中的多条记录，从表的一条记录对应主表中的多条记录。</li><li>需要建立关系表。</li></ul></ul></div><div class="cell text-cell"><h3>1、一对多 1:N</h3></div><div class="cell markdown-cell"><h1>一对多的关系</h1>
<p><img src="resources/1ED28098F8FC19C7E33EA7BFC77BDDB5.png" alt="QQ截图20210916093957.png" width="1297" height="480"></p>
</div><div class="cell markdown-cell"><h1>一对多：主键和非主键建立关系</h1>
</div><div class="cell markdown-cell"><p><img src="resources/716B2FA9DCA3C205B7CC36847F02F5A1.png" alt="QQ截图20210916094502.png" width="905" height="672"></p>
</div><div class="cell text-cell"><p><b><font color="#323232" style="background-color: rgb(254, 250, 0);">常见的一对多的关系：</font></b></p><p></p><ul><li>班级表和学生表</li><li>班主任表和学生表</li></ul><p></p></div><div class="cell text-cell"><div><h3>2、一对多 1:1</h3></div></div><div class="cell markdown-cell"><h1>一对一的关系</h1>
<p><img src="resources/A75CF665C9F57E1071AD30844BFEBB3B.png" alt="QQ截图20210916095151.png" width="1313" height="678"></p>
</div><div class="cell text-cell"><b><font color="#323232" style="background-color: rgb(254, 250, 0);">&nbsp; 一对一两个表完全可以用一个表实现，为什么还要分成两个表？</font></b><div><ul><li>在字段数量很多的情况下，数据量也就很大，每次查询都需要检索大量数据，这样效率低下<br></li><li>我们可以将所有字段分为两部分，“常用字段”和“不常用字段”，这样对大部分查询者来说效率跳高了。（表的垂直分割）</li></ul></div></div><div class="cell text-cell"><div><h3>3、多对多 N:M</h3></div></div><div class="cell markdown-cell"><h1>多对多的关系</h1>
<p><img src="resources/F4C6BCAD2C91DB304A03D77D056121B3.png" alt="QQ截图20210916100329.png" width="1410" height="671"></p>
</div><div class="cell text-cell"><b><font color="#323232" style="background-color: rgb(254, 250, 0);">&nbsp; 如何实现多对多？</font></b><div><h3></h3></div><div><ul><li>建立第三张表建立关系</li></ul><b>&nbsp;&nbsp;<font color="#323232" style="background-color: rgb(254, 250, 0);">常用的多对多的关系？</font></b></div><div><ul><li><span style="caret-color: rgb(50, 50, 50);">科目表和学生表</span></li><li><span style="caret-color: rgb(50, 50, 50);">商品表和订单表</span></li><li><span style="caret-color: rgb(50, 50, 50);">游戏目录表和玩家表</span></li></ul></div></div><div class="cell text-cell"><div></div><div><br></div><div><br></div><div><br></div><div><br></div></div><div class="cell text-cell"><h2>三、数据库的设计步骤</h2></div><div class="cell text-cell"><h3>&nbsp; &nbsp; &nbsp;1、软件项目开发周期</h3></div><div class="cell markdown-cell"><p><img src="resources/C3CA2D95BAA810C671206DA9BC59A07B.png" alt="QQ截图20210916101308.png" width="1435" height="369"></p>
</div><div class="cell text-cell"><h3>&nbsp; &nbsp; 2、数据库设计具体步骤 ( 建模的过程 )</h3><div><ul><li>收集信息：与该系统有关人员进行交流、座谈、充分理解数据库需要完成的任务。</li></ul><br><ul><li><font>标识</font><font color="#323232" style="font-weight: bold; background-color: rgb(254, 250, 0);">对象（实体-Entity）</font>标识数据库要管理的关键对象或实体。 &nbsp;&nbsp;<b>-----<font color="#323232" style="background-color: rgb(254, 250, 0);">一个对象一个表，（表名）</font></b></li><li>标识<font color="#323232" style="background-color: rgb(254, 250, 0);"><b>每个</b></font><font color="#323232" style="font-weight: bold; background-color: rgb(254, 250, 0);">实体的不同属性</font><font color="#323232" style="font-weight: bold; background-color: rgb(254, 250, 0);">（Attrib</font><b><font color="#323232" style="background-color: rgb(254, 250, 0);">ute</font><font color="#323232" style="background-color: rgb(254, 250, 0);">）</font><font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -----</font><font color="#323232" style="background-color: rgb(254, 250, 0);">一个属性对应一个字段，（表中的列名）</font></b></li><li>标识<b><font color="#323232" style="background-color: rgb(254, 250, 0);">对象之间的关系（Relationship）</font><font> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></b><b>-----<font color="#323232" style="background-color: rgb(254, 250, 0);">建立关系</font></b></li></ul><font color="#323232"><span style="caret-color: rgb(50, 50, 50);"><b><br></b></span></font><ul><li>将模型转成数据库</li><li>规范化</li></ul></div></div><div class="cell text-cell"><div><h3>&nbsp; &nbsp;3、绘制E-R图</h3></div><div><ul><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">E-R(Entity-Relationship)实体关系图</font></b></li><li><span style="caret-color: rgb(50, 50, 50);"><b>将E-R图转成表</b></span></li><ul><li><span style="caret-color: rgb(50, 50, 50);"><b>实体转成表，属性转成字段</b></span></li><li><span style="caret-color: rgb(50, 50, 50);"><b>如果没有合适的字段做主键，给表添加一个自动增长列做主键。</b></span></li></ul></ul></div></div><div class="cell markdown-cell"><h1>E-R(Entity-Relationship)语法图</h1>
<p><img src="resources/FAA43CEB09FB4EE8B5B5794CC97EFCCD.png" alt="QQ截图20210916103637.png" width="1062" height="512"></p>
</div><div class="cell markdown-cell"><h1>E-R(Entity-Relationship)关系图</h1>
<p><img src="resources/E5F13ED364ED9A5CA4F7B3480ADF27D2.png" alt="QQ截图20210916111248.png" width="1395" height="550"></p>
</div><div class="cell markdown-cell"><h1>建立关系，绘制E-R图</h1>
<p><img src="resources/E0EEE884EE6E61927BD39081F7B31074.png" alt="QQ截图20210916111652.png" width="1426" height="889"></p>
</div><div class="cell markdown-cell"></div><div class="cell text-cell"><div><h2>四、数据规范化</h2></div></div><div class="cell text-cell"><h3><b>&nbsp; &nbsp; &nbsp;三范式进行数据规范化</b></h3><div><b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#323232" style="background-color: rgb(254, 250, 0);">&nbsp; 范式由小到大约束，范式越高冗余越小，但表的个数也越多。查询越慢。</font></b></div><div><ul><li><b>第一范式：确保<font color="#323232" style="background-color: rgb(254, 250, 0);">每列原子性</font></b></li><ul><li>确保每个字段不可再发</li><li>是否用于统计，如果<font color="#323232" style="background-color: rgb(254, 250, 0);"><b>不做统计，可以不进行分割拆分</b></font>。</li></ul><li><b>第二范式：非键字段必须依赖于键字段</b></li><ul><li>一个表只能描述一件事</li></ul><li><b>第三范式：</b></li><ul><li>在所有的非键字段中，<b><font color="#323232" style="background-color: rgb(254, 250, 0);">不能有传递依赖</font></b></li><li><font color="#323232"><span style="caret-color: rgb(50, 50, 50); background-color: rgb(254, 250, 0);"><b>提高短时间内的查询速度----可以不满足第三范式。性能和规范化起冲突时，首选性能！</b></span></font></li></ul></ul></div></div><div class="cell text-cell"><h3>1、第一范式：<font color="#323232" style="background-color: rgb(254, 250, 0);">确保原子性</font></h3></div><div class="cell markdown-cell"><h1>第一范式：确保每个字段不可再分</h1>
<p><img src="resources/B0E0482EED0256DCB101E876B0B4C145.png" alt="QQ截图20210916112651.png" width="1311" height="705"></p>
</div><div class="cell markdown-cell"><h1>第一范式：案例</h1>
<p><img src="resources/95EB0FFD73408C72C29DA0AC6F4A7692.png" alt="QQ截图20210916113336.png" width="764" height="292"></p>
</div><div class="cell text-cell"><p>&nbsp;注意：GO1期 课程：<b><font color="#323232" style="background-color: rgb(254, 250, 0);"><i>2018.08.12～2018.12.15 &nbsp; &nbsp; &nbsp;238教室</i></font></b></p></div><div class="cell text-cell"><h3>2、第二范式：<font color="#323232" style="background-color: rgb(254, 250, 0);">非键字段必须依赖于键字段</font></h3></div><div class="cell markdown-cell"><h1>第二范式：</h1>
<p><img src="resources/BF0E9D1AB99553CC104E1A1363578D75.png" alt="QQ截图20210916115244.png" width="1299" height="737"></p>
</div><div class="cell markdown-cell"><h1>第二范式：案例</h1>
<p><img src="resources/054C5A0C30E4545D1C6FAAFB8337B4CC.png" alt="QQ截图20210916120049.png" width="715" height="164"></p>
</div><div class="cell text-cell"><p><b><font color="#323232" style="background-color: rgb(254, 250, 0);"><i></i></font></b></p>
</div><div class="cell text-cell"><h3>3、第三范式：<font color="#323232" style="background-color: rgb(254, 250, 0);">消除传递依赖</font></h3></div><div class="cell markdown-cell"><h1>第三范式：</h1>
<p><img src="resources/FE980DD65BDEA55B028576FCE02A40B2.png" alt="QQ截图20210916134251.png" width="1265" height="670"></p>
</div><div class="cell markdown-cell"><h1>第三范式：案例</h1>
<p><img src="resources/B551ADD2B2D61D63ED3069BFC0109B98.png" alt="QQ截图20210916134824.png" width="843" height="178"></p>
</div><div class="cell text-cell"><p><b>&nbsp; 数据库设计的关键：</b></p><p></p><ul><li><b>实体与实体的关系搞清楚</b></li></ul><p></p></div><div class="cell text-cell"><h3><b>4、规范化表数据库设计案例</b></h3><div><ul><li><b>表满足第一范式</b></li><li><b>表描述一件事情</b></li></ul></div></div><div class="cell markdown-cell"><h2>01、Excel原始表</h2>
<p><img src="resources/93747834F3DFF7F74E9FC14CB5A89F15.png" alt="QQ截图20210916141045.png" width="935" height="672"></p>
<h2>02、Excel原始表存在的问题</h2>
<p><img src="resources/FAFD5D61B2DA472C82BA24887329F97E.png" alt="QQ截图20210916141250.png" width="1248" height="677"></p>
<h2>03、满足第二范式，仍然存在问题</h2>
<p><img src="resources/C3DF7190DADD33D6FE72C51BB2375BD6.png" alt="QQ截图20210916141350.png" width="1293" height="715"></p>
<h2>04、最终数据设计的表</h2>
<p><img src="resources/0F2179DA17CE988182F659B32B39C224.png" alt="QQ截图20210916141458.png" width="696" height="501"></p>
</div><div class="cell text-cell"><h3><b></b></h3></div><div class="cell markdown-cell"></div><div class="cell markdown-cell"></div><div class="cell markdown-cell"></div><div class="cell markdown-cell"></div><div class="cell text-cell"><div><h3></h3></div></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = '03_MySQL_第二课_数据库的数据类型、列属性、数据完整性、外键.html';
if (e.keyCode === 37) window.location.href = '05_MySQL_第四课_数据库查询01_单表查询.html';
}</script>
    </body>
    </html>
  