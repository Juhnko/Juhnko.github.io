
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='A计划路线.html'>A计划路线</a>, Previous: <a href='DoozyUI插件的使用.html'>DoozyUI插件的使用</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>AssetBundle从入门到掌握（基于Unity2017）</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><h3><span style="font-size: 17px;"><b>1、AssetBundle的作用，用处？</b></span></h3></div><div class="cell text-cell"><ul><li>AssetBundle是一个压缩包 。<b>资源</b> 包含模型、贴图、预置体、声音、甚至整个场景，可以在游戏运行时候被加载。<br></li><li>AssetBundle自身保存着互相的依赖关系。（模型/贴图）<br></li><li>压缩包可以使用&nbsp;<b>LZMA和LZ4&nbsp;</b>压缩算法，减少包大小，更快的进行网络传输。<br></li><li>把一些可以直接下载内容放在AssetBundle里面，可以减少安装包的大小。</li></ul><div><font color="#323232" style="background-color: rgb(254, 250, 0);">安装apk的时候没有资源包，减少安装包的大小。等到使用的时候再进行从服务器加载AB包。</font></div></div><div class="cell text-cell"><h3><b>&nbsp;2、什么是<span style="font-size: 17px;">AssetBundle？</span></b></h3></div><div class="cell text-cell"><ul><li>它是一个<b>存在于<font color="#323232" style="background-color: rgb(254, 250, 0);">硬盘上</font>的文件</b>。可以称之为压缩包。这个压缩包可以认为是一个<font color="#323232" style="background-color: rgb(254, 250, 0);">文件夹，里面包含了多个文件</font>。<br></li><ul><li>这些文件可以分为两类：serialized file(序列化文件)和 resource files（源文件）</li><ul><li>Serialized file:资源被打碎放在一个对象中，最后统一被写进一个单独的文件（只有一个）。一般不能被直接看到，比如Prefab、Model… ...</li><li>Resource file: 某些二进制资源（图片、声音）被单独保存，方便快速加载。一般可以被查看到。</li></ul></ul><li>它是一个AssetBundle<b>对象</b>，我们可以通过代码从一个<b>特定的压缩包（ab包）</b>加载出来的对象。这个对象包含了所有我们当初添加到这个压缩包里面的内容，我们可以<b>通过</b><b>这个对象加载出来使用</b>。<br></li></ul></div><div class="cell text-cell"><h3>3、<b><span style="font-size: 17px;">AssetBundle的使用流程</span></b></h3><h3><span style="font-size: 13px;"></span></h3></div><div class="cell text-cell"><h3><span style="font-size: 13px;">&nbsp; &nbsp; &nbsp;01、指定资源的AssetBundle属性</span></h3><h3><b><span style="font-size: 17px;"></span></b></h3><div>&nbsp; &nbsp; &nbsp; &nbsp; （xxxa/xxx）这里xxxa指定的生成目录，名字为xxx</div><div><br></div><div><b>&nbsp; &nbsp; &nbsp;02、构建AssetBundle包</b></div></div><div class="cell text-cell"><div><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AssetBundle分组策略&nbsp;</b></div></div><div class="cell text-cell">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<b>01、<font color="#323232" style="background-color: rgb(254, 250, 0);">逻辑实体</font>分组</b><div><b></b></div><div><ul><li>&nbsp; &nbsp; &nbsp;一个UI界面或者所有UI界面一个包（这个界面里面的贴图和布局信息一个包）<br></li><li>&nbsp; &nbsp; &nbsp;一个角色或者所有角色一个包（这个角色里面模型和动画一个包）&nbsp;<br></li><li>&nbsp; &nbsp; &nbsp;所有的场景所共享的部分一个包（包括贴图和模型）</li></ul></div></div><div class="cell text-cell"><div><div><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 02、按照<font color="#323232" style="background-color: rgb(254, 250, 0);">类型</font>分组</b></div><div><ul><li><b>&nbsp; &nbsp; &nbsp;</b>&nbsp;所有声音资源打包成一个包，所有Shader打成一个包，所有模型打成一个包，所有材质打成一个包。</li></ul></div></div></div><div class="cell text-cell"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 03、按照<font color="#323232" style="background-color: rgb(254, 250, 0);">使用</font>分组</b>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<ul><li>&nbsp; &nbsp; 把在某一时间内使用的所有资源打成一个包。</li><ul><li>可以按照关卡分，一个关卡所需要的所有资源包括角色、贴图、声音等打成一个包。</li><li>也可以按照场景分，一个场景所需要的资源成一个包。</li></ul></ul></div><div class="cell text-cell"><div><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b><b>&nbsp; AssetBundle</b><b>分组策略总结：</b></div><div><b></b></div><div><ul><li>&nbsp; &nbsp; &nbsp; &nbsp; 把<b>经常更新的资源</b>放在一个单独的包里面，和不经常更新的包分离。<br></li><li>&nbsp; &nbsp; &nbsp; &nbsp; 把需要<font style="font-weight: bold;">同时加载的资源</font>放在一个包里面。<br></li><li>&nbsp; &nbsp; &nbsp; &nbsp; 可以把其他资源包<b>共享的资源</b>放在一个单独的包里面。<br></li><li>&nbsp; &nbsp; &nbsp; &nbsp; 把一些需要<b>同时加载的小资源</b>打包成一个包。<br></li><li>&nbsp; &nbsp; &nbsp; &nbsp; 如果对于一个同一个资源有两个版本，可以考虑通过<b>后缀来区分</b>。</li></ul></div></div><div class="cell text-cell"><div><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 依赖打包</b></div></div><div class="cell markdown-cell"><p><img src="resources/00C0FAA110DC512D4286C3FB95508394.png" alt="截屏2021-01-25 10.37.48.png" width="1348" height="644"></p>
</div><div class="cell text-cell"><div><b><br></b></div><div><b>&nbsp; &nbsp; &nbsp;03、上传AB包(上传到服务器)</b></div><div><b>&nbsp; &nbsp;&nbsp;</b></div><div><b>&nbsp; &nbsp; &nbsp;04、加载AB包和包里面的资源（player进行资源更新，只更新部分资源）</b></div><div><b></b></div></div><div class="cell text-cell"><h3>01、打包</h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">打</span><span class="ace_cjk" style="width:NaNpx">包</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">using</span> <span class="ace_identifier">System</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">IO</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">using</span> <span class="ace_identifier">UnityEditor</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">using</span> <span class="ace_identifier">UnityEngine</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">Editor</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">CreateAssetBundles</span> <span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">MonoBehaviour</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_lparen">[</span><span class="ace_identifier">MenuItem</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">Assets/LJK Build AssetBundles</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">static</span> <span class="ace_keyword">void</span> <span class="ace_identifier">BuildAllAssetBundles</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">string</span> <span class="ace_identifier">dir</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string ace_start">"</span><span class="ace_string">AssetBundles</span><span class="ace_string ace_end">"</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Directory</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Exists</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dir</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">==</span><span class="ace_constant ace_language ace_boolean">false</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Directory</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">CreateDirectory</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dir</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">BuildPipeline</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">BuildAssetBundles</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dir</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">BuildAssetBundleOptions</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">None</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">BuildTarget</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">StandaloneOSX</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">相</span><span class="ace_cjk" style="width:NaNpx">对</span><span class="ace_cjk" style="width:NaNpx">路</span><span class="ace_cjk" style="width:NaNpx">径</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">以</span><span class="ace_cjk" style="width:NaNpx">工</span><span class="ace_cjk" style="width:NaNpx">程</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">根</span><span class="ace_cjk" style="width:NaNpx">目</span><span class="ace_cjk" style="width:NaNpx">录</span><span class="ace_cjk" style="width:NaNpx">为</span><span class="ace_cjk" style="width:NaNpx">准</span><span class="ace_cjk" style="width:NaNpx">。</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Debug</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Log</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string"><span class="ace_cjk" style="width:NaNpx">打</span><span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">成</span><span class="ace_cjk" style="width:NaNpx">功</span><span class="ace_cjk" style="width:NaNpx">了</span><span class="ace_cjk" style="width:NaNpx">！</span><span class="ace_cjk" style="width:NaNpx">！</span></span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell"><div><b>BuildAssetBundles方法的详细了解</b><br></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span> <span class="ace_identifier">BuildPipeline</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">BuildAssetBundles</span><span class="ace_paren ace_lparen">(</span><span class="ace_cjk" style="width:NaNpx">路</span><span class="ace_cjk" style="width:NaNpx">径</span><span class="ace_cjk" style="width:NaNpx">参</span><span class="ace_cjk" style="width:NaNpx">数</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_identifier">BuildAssetBundleOptions</span><span class="ace_cjk" style="width:NaNpx">选</span><span class="ace_cjk" style="width:NaNpx">项</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">目</span><span class="ace_cjk" style="width:NaNpx">标</span><span class="ace_cjk" style="width:NaNpx">平</span><span class="ace_cjk" style="width:NaNpx">台</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell text-cell"><div><ul><li>路径参数：只要在硬盘上即可<br></li><li>BuildAssetBundleOptions选项：<br></li><ul><li><b>BuildAssetBundleOptions.None：</b><font color="#323232" style="background-color: rgb(254, 250, 0);">使用LZMA算法压缩（高压缩比）</font>，<u>压缩包更小，但是加载时间更长。</u> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;使用之前<font color="#323232" style="background-color: rgb(254, 250, 0);">需要整体解压</font>。（一旦被解压，这个包会使用LZ4重新压缩。使用资源的时候不需要整体解压。在下载的时候可以使用LZMA算法，一旦它被下载了之后，它会使用LZ4算法保存到本地上。）<br></li><li><b>BuildAssetBundleOptions.UncompressedAssetBundle</b>：不压缩，包大，加载最快。<br></li><li><b>BuildAssetBundleOptions.ChunkBasedCompression: &nbsp; &nbsp;<font color="#323232" style="background-color: rgb(254, 250, 0);">&nbsp;</font></b><font color="#323232" style="background-color: rgb(254, 250, 0);">使用LZ4压缩</font>，压缩率没有LZMA高，但是<font>我</font>们<font color="#323232" style="font-weight: bold; background-color: rgb(254, 250, 0);">可以加载指定资源</font>而不用解压全部。（加载速度快。&nbsp; 注意使用<b>LZ4压缩</b>，可以获得可以跟不压缩想媲美的<u>加载速度</u>，而且比不压缩文件要小。）</li></ul></ul></div></div><div class="cell text-cell"><div><b>Manifest文件</b></div></div><div class="cell text-cell"><b>001、capsule.share3d.manifest文件</b><div><b></b></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">ManifestFileVersion</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">CRC</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">3157192810</span>   <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">文</span><span class="ace_cjk" style="width:NaNpx">件</span><span class="ace_cjk" style="width:NaNpx">校</span><span class="ace_cjk" style="width:NaNpx">验</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Hashes</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">AssetFileHash</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">serializedVersion</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">Hash</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">ffac44a69e1f8c1b1a84aa2b7e6c3f66</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">TypeTreeHash</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">serializedVersion</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">Hash</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">f031a19312ebd05458d6c922e97cb647</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">HashAppended</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">ClassTypes</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">1</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">4</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">21</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">23</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">33</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">43</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">136</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Assets</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Assets</span>/<span class="ace_identifier">Prefabs</span>/<span class="ace_identifier">Capsule</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">prefab</span>  <span class="ace_comment">//capsule.share3d——ab<span class="ace_cjk" style="width:NaNpx">打</span><span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">含</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">资</span><span class="ace_cjk" style="width:NaNpx">源</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Dependencies</span><span class="ace_punctuation ace_operator">:</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">于</span>ljkassets/ljkshare.share3d<span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">后</span><span class="ace_cjk" style="width:NaNpx">期</span><span class="ace_cjk" style="width:NaNpx">如</span><span class="ace_cjk" style="width:NaNpx">果</span><span class="ace_cjk" style="width:NaNpx">不</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">话</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">会</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">材</span><span class="ace_cjk" style="width:NaNpx">质</span>/<span class="ace_cjk" style="width:NaNpx">贴</span><span class="ace_cjk" style="width:NaNpx">图</span><span class="ace_cjk" style="width:NaNpx">丢</span><span class="ace_cjk" style="width:NaNpx">失</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">情</span><span class="ace_cjk" style="width:NaNpx">况</span><span class="ace_cjk" style="width:NaNpx">（</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">于</span>ab<span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">即</span><span class="ace_cjk" style="width:NaNpx">使</span><span class="ace_cjk" style="width:NaNpx">场</span><span class="ace_cjk" style="width:NaNpx">景</span><span class="ace_cjk" style="width:NaNpx">中</span><span class="ace_cjk" style="width:NaNpx">材</span><span class="ace_cjk" style="width:NaNpx">质</span>/<span class="ace_cjk" style="width:NaNpx">贴</span><span class="ace_cjk" style="width:NaNpx">图</span><span class="ace_cjk" style="width:NaNpx">中</span><span class="ace_cjk" style="width:NaNpx">存</span><span class="ace_cjk" style="width:NaNpx">在</span><span class="ace_cjk" style="width:NaNpx">也</span><span class="ace_cjk" style="width:NaNpx">不</span><span class="ace_cjk" style="width:NaNpx">可</span><span class="ace_cjk" style="width:NaNpx">以</span><span class="ace_cjk" style="width:NaNpx">）</span><span class="ace_cjk" style="width:NaNpx">。</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> /<span class="ace_identifier">Users</span>/<span class="ace_identifier">liangjunke</span>/<span class="ace_identifier">Documents</span>/<span class="ace_identifier">LJK_Workspace</span>/<span class="ace_identifier">Unity_testWorkspace</span>/<span class="ace_identifier">AssetBundleDemo</span>/<span class="ace_identifier">New</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Unity</span> <span class="ace_identifier">Project</span>/<span class="ace_identifier">AssetBundles</span>/<span class="ace_identifier">ljkassets</span>/<span class="ace_identifier">ljkshare</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">share3d</span>
</div></div></div></div><div class="cell text-cell"><div><b>002、ljkshare.share3d.manifest文件</b><br></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">ManifestFileVersion</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">CRC</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">304426183</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Hashes</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">AssetFileHash</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">serializedVersion</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">Hash</span><span class="ace_punctuation ace_operator">:</span> 94<span class="ace_identifier">e3383258c1392a67405e5414b23080</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">TypeTreeHash</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">serializedVersion</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">Hash</span><span class="ace_punctuation ace_operator">:</span> 99504<span class="ace_identifier">e14330b5f996d4763976081255f</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">HashAppended</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">ClassTypes</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">21</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">28</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">48</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Class</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">213</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Script</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span><span class="ace_identifier">instanceID</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Assets</span><span class="ace_punctuation ace_operator">:</span><span class="ace_comment">//ljkshare.share3d——ab<span class="ace_cjk" style="width:NaNpx">打</span><span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">含</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">资</span><span class="ace_cjk" style="width:NaNpx">源</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">Assets</span>/<span class="ace_identifier">Materials</span>/<span class="ace_identifier">test01</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">mat</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_string ace_start">"</span><span class="ace_string">Assets/Resource/Image/</span><span class="ace_constant ace_language ace_escape">\u4E09\u7EF4\u53EF\u89C6\u5316\u6570\u5B57\u5B6A\u751F\u7CFB\u7EDF\u5C55\u793A\u56FE</span><span class="ace_string">.png</span><span class="ace_string ace_end">"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Dependencies</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">没</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">任</span><span class="ace_cjk" style="width:NaNpx">何</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">。</span></span>
</div></div></div></div><div class="cell text-cell"><h3><b>&nbsp;02、加载</b></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">直</span><span class="ace_cjk" style="width:NaNpx">接</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">LoadFromFileExample</span> <span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">MonoBehaviour</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">void</span> <span class="ace_identifier">Start</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundles/LJKAssets/prefab.ljk</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//assetBundle<span class="ace_cjk" style="width:NaNpx">对</span><span class="ace_cjk" style="width:NaNpx">象</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_comment">//GameObject cubePrefab = assetBundle.LoadAsset&lt;GameObject&gt;("Cube");</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Object</span><span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span> <span class="ace_identifier">loadAllAssets</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">assetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAllAssets</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">foreach</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword">var</span> <span class="ace_identifier">o</span> <span class="ace_keyword">in</span> <span class="ace_identifier">loadAllAssets</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">o</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_comment">//Instantiate(cubePrefab);</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Debug</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Log</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string"><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">成</span><span class="ace_cjk" style="width:NaNpx">功</span><span class="ace_cjk" style="width:NaNpx">了</span><span class="ace_cjk" style="width:NaNpx">！</span><span class="ace_cjk" style="width:NaNpx">！</span></span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">项</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">LoadFromFileExample</span> <span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">MonoBehaviour</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment">// Start is called before the first frame update</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">void</span> <span class="ace_identifier">Start</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle0</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundles/LJKAssets/ljkshare.share3d</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">先</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">项</span>ljkshare.share3d<span class="ace_cjk" style="width:NaNpx">（</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">项</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">先</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">项</span><span class="ace_cjk" style="width:NaNpx">）</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle1</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundles/LJKAssets/capsule.share3d</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>  <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">再</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span>assetBundle<span class="ace_cjk" style="width:NaNpx">对</span><span class="ace_cjk" style="width:NaNpx">象</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">GameObject</span> <span class="ace_identifier">capsulePrefab</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">assetBundle1</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">Capsule</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">capsulePrefab</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">综</span><span class="ace_cjk" style="width:NaNpx">合</span><span class="ace_cjk" style="width:NaNpx">使</span><span class="ace_cjk" style="width:NaNpx">用</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">尽</span><span class="ace_cjk" style="width:NaNpx">量</span><span class="ace_cjk" style="width:NaNpx">先</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">再</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span>AB<span class="ace_cjk" style="width:NaNpx">包</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">LoadFromFileExample</span> <span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">MonoBehaviour</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment">// Start is called before the first frame update</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">void</span> <span class="ace_identifier">Start</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle0</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundles/LJKAssets/ljkshare.share3d</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">包</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle1</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundles/LJKAssets/capsule.share3d</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>  <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span>AB<span class="ace_cjk" style="width:NaNpx">包</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">GameObject</span> <span class="ace_identifier">capsulePrefab</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">assetBundle1</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">Capsule</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">capsulePrefab</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">使</span><span class="ace_cjk" style="width:NaNpx">用</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">过</span><span class="ace_cjk" style="width:NaNpx">程</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle02</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundles/LJKAssets/prefab.ljk</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">//assetBundle<span class="ace_cjk" style="width:NaNpx">对</span><span class="ace_cjk" style="width:NaNpx">象</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_identifier">Object</span><span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span> <span class="ace_identifier">loadAllAssets</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">assetBundle02</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAllAssets</span><span class="ace_paren ace_lparen">(</span> <span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_keyword">foreach</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword">var</span> <span class="ace_identifier">o</span> <span class="ace_keyword">in</span> <span class="ace_identifier">loadAllAssets</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">o</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_identifier">Debug</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Log</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string"><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">成</span><span class="ace_cjk" style="width:NaNpx">功</span><span class="ace_cjk" style="width:NaNpx">了</span><span class="ace_cjk" style="width:NaNpx">！</span><span class="ace_cjk" style="width:NaNpx">！</span></span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell"><h3>03、使用</h3></div><div class="cell text-cell"><ul><li><b>AssetBundle.LoadFromMemoryAsync &nbsp;从内存中加载<br></b></li><li><b>AssetBundle.LoadFromFile &nbsp;从本地加载<br></b></li><li><b><strike>WWW.LoadFromCacheOrDownload &nbsp;从服务器下载或缓存中加载</strike><br></b></li><li><b>UnityWebRequest.DownloadHandlerAssetBundle新的API类 Web请求（从Web加载）</b></li></ul></div><div class="cell text-cell"><h3><b>001、从内存中加载</b></h3></div><div class="cell text-cell"><ul><li><b>同步加载&nbsp;&nbsp;AssetBundle.LoadFromMemory(Byte[] bytes)</b></li></ul><b></b></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">void</span> <span class="ace_identifier">LoadFromMemoryAsync</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">string</span> <span class="ace_identifier">path</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">ab</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromMemory</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">File</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">ReadAllBytes</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">path</span><span class="ace_paren ace_rparen">))</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">var</span> <span class="ace_identifier">prefab02</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">ab</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">MyObject</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">使</span><span class="ace_cjk" style="width:NaNpx">用</span>assetBundle<span class="ace_cjk" style="width:NaNpx">得</span><span class="ace_cjk" style="width:NaNpx">到</span>MyObject<span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">预</span><span class="ace_cjk" style="width:NaNpx">置</span><span class="ace_cjk" style="width:NaNpx">体</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">prefab02</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">在</span><span class="ace_cjk" style="width:NaNpx">场</span><span class="ace_cjk" style="width:NaNpx">景</span><span class="ace_cjk" style="width:NaNpx">中</span><span class="ace_cjk" style="width:NaNpx">将</span><span class="ace_cjk" style="width:NaNpx">预</span><span class="ace_cjk" style="width:NaNpx">置</span><span class="ace_cjk" style="width:NaNpx">体</span><span class="ace_cjk" style="width:NaNpx">实</span><span class="ace_cjk" style="width:NaNpx">例</span><span class="ace_cjk" style="width:NaNpx">化</span><span class="ace_cjk" style="width:NaNpx">出</span><span class="ace_cjk" style="width:NaNpx">来</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell"><ul><li><b>异步加载 AssetBundle.LoadFromMemoryAsync(Byte[] bytes)</b><br></li><ul><li>File.ReadAllBytes(path) 从文件读取字节数组</li></ul></ul><b></b></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">IEnumerator</span> <span class="ace_identifier">LoadFromMemoryAsync</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">string</span> <span class="ace_identifier">path</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">AssetBundleCreatRequest</span> <span class="ace_identifier">createRequest</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromMemoryAsync</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">File</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">ReadAllBytes</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">path</span><span class="ace_paren ace_rparen">))</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">// <span class="ace_cjk" style="width:NaNpx">将</span><span class="ace_cjk" style="width:NaNpx">文</span><span class="ace_cjk" style="width:NaNpx">件</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">字</span><span class="ace_cjk" style="width:NaNpx">节</span><span class="ace_cjk" style="width:NaNpx">数</span><span class="ace_cjk" style="width:NaNpx">组</span><span class="ace_cjk" style="width:NaNpx">转</span><span class="ace_cjk" style="width:NaNpx">成</span>AssetBundle  --<span class="ace_cjk" style="width:NaNpx">发</span><span class="ace_cjk" style="width:NaNpx">起</span>AssetBundle<span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">请</span><span class="ace_cjk" style="width:NaNpx">求</span>--</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">yield</span> <span class="ace_keyword">return</span> <span class="ace_identifier">createRequest</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">// yield<span class="ace_cjk" style="width:NaNpx">关</span><span class="ace_cjk" style="width:NaNpx">键</span><span class="ace_cjk" style="width:NaNpx">字</span>   --<span class="ace_cjk" style="width:NaNpx">等</span><span class="ace_cjk" style="width:NaNpx">待</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">完</span><span class="ace_cjk" style="width:NaNpx">成</span>--</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">bundle</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">creatRequeset</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">assetBundle</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">// <span class="ace_cjk" style="width:NaNpx">根</span><span class="ace_cjk" style="width:NaNpx">据</span><span class="ace_cjk" style="width:NaNpx">请</span><span class="ace_cjk" style="width:NaNpx">求</span><span class="ace_cjk" style="width:NaNpx">得</span><span class="ace_cjk" style="width:NaNpx">到</span>assetBundle</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">var</span> <span class="ace_identifier">prefab</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">bundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">MyObject</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">使</span><span class="ace_cjk" style="width:NaNpx">用</span>assetBundle<span class="ace_cjk" style="width:NaNpx">得</span><span class="ace_cjk" style="width:NaNpx">到</span>MyObject<span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">预</span><span class="ace_cjk" style="width:NaNpx">置</span><span class="ace_cjk" style="width:NaNpx">体</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">prefab</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">在</span><span class="ace_cjk" style="width:NaNpx">场</span><span class="ace_cjk" style="width:NaNpx">景</span><span class="ace_cjk" style="width:NaNpx">中</span><span class="ace_cjk" style="width:NaNpx">将</span><span class="ace_cjk" style="width:NaNpx">预</span><span class="ace_cjk" style="width:NaNpx">置</span><span class="ace_cjk" style="width:NaNpx">体</span><span class="ace_cjk" style="width:NaNpx">实</span><span class="ace_cjk" style="width:NaNpx">例</span><span class="ace_cjk" style="width:NaNpx">化</span><span class="ace_cjk" style="width:NaNpx">出</span><span class="ace_cjk" style="width:NaNpx">来</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell"><h3><b>002、从Web端加载</b></h3><ul><li><b><strike>WWW.LoadFromCacheOrDownload &nbsp;从服务器下载或缓存中加载</strike></b></li></ul></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">class</span> <span class="ace_identifier">LoadFromCacheOrDownloadExample</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">MonoBehaviour</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">IEnumerator</span> <span class="ace_identifier">Start</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">while</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_identifier">Caching</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">ready</span><span class="ace_paren ace_rparen">)</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">缓</span><span class="ace_cjk" style="width:NaNpx">存</span><span class="ace_cjk" style="width:NaNpx">没</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">好</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">暂</span><span class="ace_cjk" style="width:NaNpx">停</span><span class="ace_cjk" style="width:NaNpx">一</span><span class="ace_cjk" style="width:NaNpx">帧</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">yield</span> <span class="ace_keyword">return</span> <span class="ace_constant ace_language">null</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">var</span>  <span class="ace_identifier">www</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">WWW</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromCacheOrDownload</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">http://localhost:8888/myassetbundle</span><span class="ace_string ace_end">"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_constant ace_numeric">5</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">网</span><span class="ace_cjk" style="width:NaNpx">站</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">版</span><span class="ace_cjk" style="width:NaNpx">本</span><span class="ace_cjk" style="width:NaNpx">号</span><span class="ace_cjk" style="width:NaNpx">（</span>@“file://E:DAF\AD\DD\myassetbundle\<span class="ace_cjk" style="width:NaNpx">路</span><span class="ace_cjk" style="width:NaNpx">径</span><span class="ace_cjk" style="width:NaNpx">名</span>”<span class="ace_cjk" style="width:NaNpx">）</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">yied</span> <span class="ace_keyword">return</span> <span class="ace_identifier">www</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">等</span><span class="ace_cjk" style="width:NaNpx">待</span><span class="ace_cjk" style="width:NaNpx">下</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">完</span><span class="ace_cjk" style="width:NaNpx">成</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_keyword">string</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">IsNullOrEmpty</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">www</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">error</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">Debug</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Log</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">www</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">error</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">使</span><span class="ace_cjk" style="width:NaNpx">用</span>www<span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">一</span><span class="ace_cjk" style="width:NaNpx">定</span><span class="ace_cjk" style="width:NaNpx">要</span><span class="ace_cjk" style="width:NaNpx">输</span><span class="ace_cjk" style="width:NaNpx">出</span><span class="ace_cjk" style="width:NaNpx">错</span><span class="ace_cjk" style="width:NaNpx">误</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">yield</span> <span class="ace_keyword">return</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">var</span> <span class="ace_identifier">myLoadAssetBundle</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">www</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">assetBundle</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">var</span> <span class="ace_identifier">asset</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">myLoadAssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">mainAsset</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell"><h3><ul><li><span style="font-size: 13px;">UnityWebRequest</span><br></li></ul></h3></div><div class="cell text-cell"><ul><ul><li>搭建简单的Web服务器</li><ul><li>利用MAMP搭建Web服务器</li></ul></ul></ul></div><div class="cell text-cell"><ul><ul><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">UnityWebRequest.</font><font color="#323232" style="background-color: rgb(254, 250, 0);">GetAssetBundle()</font></b></li><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">request.Send();</font></b></li><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">DownloadHandlerAssetBundle() &nbsp;</font>新的API类 Web请求（从Web加载）</b></li></ul></ul></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">IEnumerator</span> <span class="ace_identifier">InstantiateObject</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">string</span> <span class="ace_identifier">uri</span><span class="ace_keyword ace_operator">=</span><span class="ace_string ace_start">"</span><span class="ace_string">file:///</span><span class="ace_string ace_end">"</span><span class="ace_keyword ace_operator">+</span><span class="ace_identifier">Application</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">dataPath</span><span class="ace_keyword ace_operator">+</span><span class="ace_string ace_start">"</span><span class="ace_string">/AssetBundes/</span><span class="ace_string ace_end">"</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">aseetBundleName</span><span class="ace_string ace_start">"</span><span class="ace_string">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">UnityEngine</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Networking</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">UnityWebRequest</span> <span class="ace_identifier">request</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">UnityEngine</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Networking</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">UnityWebRequest</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">GetAssetBundle</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">uri</span><span class="ace_punctuation ace_operator">,</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">指</span><span class="ace_cjk" style="width:NaNpx">定</span>uri<span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">获</span><span class="ace_cjk" style="width:NaNpx">取</span><span class="ace_cjk" style="width:NaNpx">请</span><span class="ace_cjk" style="width:NaNpx">求</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">yield</span> <span class="ace_keyword">return</span> <span class="ace_identifier">request</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Send</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">发</span><span class="ace_cjk" style="width:NaNpx">起</span><span class="ace_cjk" style="width:NaNpx">请</span><span class="ace_cjk" style="width:NaNpx">求</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">bundle</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">DownloadHandlerAssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">GetContent</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">request</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">得</span><span class="ace_cjk" style="width:NaNpx">到</span><span class="ace_cjk" style="width:NaNpx">请</span><span class="ace_cjk" style="width:NaNpx">求</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">GameObject</span> <span class="ace_identifier">cube</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">bundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">Cube</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">根</span><span class="ace_cjk" style="width:NaNpx">据</span><span class="ace_cjk" style="width:NaNpx">请</span><span class="ace_cjk" style="width:NaNpx">求</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">对</span><span class="ace_cjk" style="width:NaNpx">象</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">GameObject</span> <span class="ace_identifier">sprite</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">bundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">Sprite</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">cube</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">实</span><span class="ace_cjk" style="width:NaNpx">例</span><span class="ace_cjk" style="width:NaNpx">化</span><span class="ace_cjk" style="width:NaNpx">对</span><span class="ace_cjk" style="width:NaNpx">象</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">sprite</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell"><div><br></div><div><br></div><div><br></div></div><div class="cell text-cell"><h3><b>&nbsp; &nbsp;04、加载AB包和包里面的资源详解</b></h3></div><div class="cell text-cell"><b>同步加载资源</b><h3><b></b></h3></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">T</span> <span class="ace_identifier">objectFromBundle</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">bundleObject</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">T</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">assetName</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span>ab<span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">里</span><span class="ace_cjk" style="width:NaNpx">泛</span><span class="ace_cjk" style="width:NaNpx">型</span><span class="ace_cjk" style="width:NaNpx">类</span><span class="ace_cjk" style="width:NaNpx">型</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">资</span><span class="ace_cjk" style="width:NaNpx">源</span></span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Unity</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Object</span><span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span> <span class="ace_identifier">objectArray</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">loadedAssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAllAssets</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span>ab<span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">里</span><span class="ace_cjk" style="width:NaNpx">面</span><span class="ace_cjk" style="width:NaNpx">所</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">资</span><span class="ace_cjk" style="width:NaNpx">源</span></span>
</div></div></div></div><div class="cell text-cell"><b>异步加载资源(Async 加载资源比较大的情况下使用异步加载较好)</b></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">AssetBundleRequest</span> <span class="ace_identifier">request</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">loadedAssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">loadAssetAsync</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">assetName</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">yield</span> <span class="ace_keyword">return</span> <span class="ace_identifier">request</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">var</span> <span class="ace_identifier">loadedAsset</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">request</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">asset</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">AssetBundleRequest</span> <span class="ace_identifier">request</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">loadedAssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAssetAsync</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">yield</span> <span class="ace_keyword">return</span> <span class="ace_identifier">request</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">var</span> <span class="ace_identifier">loadedAssets</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">request</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">allAssets</span><span class="ace_punctuation ace_operator">;</span> 
</div></div></div></div><div class="cell text-cell"><b>加载Manifest文件</b></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">manifesFilePath</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">manifest</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">assetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">AssetBundleManifest</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundleManifest</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">AssetBundle</span> <span class="ace_identifier">assetBundle</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">manifesFilePath</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">从</span><span class="ace_cjk" style="width:NaNpx">本</span><span class="ace_cjk" style="width:NaNpx">地</span><span class="ace_cjk" style="width:NaNpx">路</span><span class="ace_cjk" style="width:NaNpx">径</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">（</span><span class="ace_cjk" style="width:NaNpx">文</span><span class="ace_cjk" style="width:NaNpx">件</span><span class="ace_cjk" style="width:NaNpx">夹</span>/<span class="ace_cjk" style="width:NaNpx">文</span><span class="ace_cjk" style="width:NaNpx">件</span><span class="ace_cjk" style="width:NaNpx">）</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">AssetBundleManifest</span> <span class="ace_identifier">manifest</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">assetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadAsset</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">AssetBundleManifest</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">AssetBundleManifest</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">拿</span><span class="ace_cjk" style="width:NaNpx">到</span>AssetBundleManifest <span class="ace_cjk" style="width:NaNpx">清</span><span class="ace_cjk" style="width:NaNpx">单</span><span class="ace_cjk" style="width:NaNpx">文</span><span class="ace_cjk" style="width:NaNpx">件</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">string</span><span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span> <span class="ace_identifier">dependencies</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">manifest</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">GetAllDependencies</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">assetBundle</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">根</span><span class="ace_cjk" style="width:NaNpx">据</span><span class="ace_cjk" style="width:NaNpx">包</span><span class="ace_cjk" style="width:NaNpx">名</span><span class="ace_cjk" style="width:NaNpx">拿</span><span class="ace_cjk" style="width:NaNpx">到</span><span class="ace_cjk" style="width:NaNpx">所</span><span class="ace_cjk" style="width:NaNpx">有</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">依</span><span class="ace_cjk" style="width:NaNpx">赖</span><span class="ace_cjk" style="width:NaNpx">包</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">foreach</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">string</span> <span class="ace_identifier">dependency</span> <span class="ace_keyword">in</span> <span class="ace_identifier">dependency</span> <span class="ace_keyword">in</span> <span class="ace_identifier">dependencies</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">AssetBundle</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadFromFile</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Path</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Combine</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">assetBundlePath</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">dependency</span><span class="ace_paren ace_rparen">))</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">从</span><span class="ace_cjk" style="width:NaNpx">本</span><span class="ace_cjk" style="width:NaNpx">地</span><span class="ace_cjk" style="width:NaNpx">路</span><span class="ace_cjk" style="width:NaNpx">径</span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">，</span>Combine<span class="ace_cjk" style="width:NaNpx">联</span><span class="ace_cjk" style="width:NaNpx">合</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell"><div><h3><b>&nbsp; &nbsp;05、AssetBundle的卸载</b></h3></div></div><div class="cell text-cell">卸载有两个方面：<div><h3><b></b></h3></div><div><ul><li>减少内存的使用。（优点）<br></li><li>有可能导致丢失。（缺点）</li></ul></div></div><div class="cell text-cell"><h3>什么时候去卸载资源？</h3></div><div class="cell text-cell"><b>AssetBundle.Unload(true)</b></div><div class="cell text-cell"><b>推荐使用。卸载所有资源，即资源被使用着。</b><div><ul><li><b>资源没被使用的时候调用</b></li><li><b>关卡切换、场景切换的时候调用</b></li></ul></div></div><div class="cell text-cell"><b>AssetBundle.Unload(false)</b></div><div class="cell text-cell"><b>卸载所有没有被使用的资源。 &nbsp;</b><div><ul><li><b>场景切换的时候<br></b></li><li><b>通过调用Resources.UnloadUnusedAssets() 确保资源已经没有被引用了；</b></li></ul></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Resources</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">UnloadUnusedAssets</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_cjk" style="width:NaNpx">加</span><span class="ace_cjk" style="width:NaNpx">载</span><span class="ace_cjk" style="width:NaNpx">场</span><span class="ace_cjk" style="width:NaNpx">景</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">时</span><span class="ace_cjk" style="width:NaNpx">候</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">自</span><span class="ace_cjk" style="width:NaNpx">动</span><span class="ace_cjk" style="width:NaNpx">会</span><span class="ace_cjk" style="width:NaNpx">调</span><span class="ace_cjk" style="width:NaNpx">用</span><span class="ace_identifier">Resources</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">UnloadUnusedAssets</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_cjk" style="width:NaNpx">方</span><span class="ace_cjk" style="width:NaNpx">法</span>
</div></div></div></div><div class="cell markdown-cell"><p><img src="resources/6F5967DF1A38F21CFB2A5353B085982E.png" alt="截屏2021-01-26 10.15.55.png" width="967" height="370"></p>
</div><div class="cell markdown-cell"><p><img src="resources/A602745A072646EC9083473C57C0F177.png" alt="截屏2021-01-26 10.17.11.png" width="1134" height="519"></p>
</div><div class="cell markdown-cell"><p><img src="resources/2A894FC24A24D39A787154BB5B9FC614.png" alt="截屏2021-01-26 10.19.04.png" width="961" height="807"></p>
</div><div class="cell markdown-cell"></div><div class="cell text-cell"><h2>06、关于文件的校验</h2>
</div><div class="cell text-cell"><h3>CRC / MD5 / SHA1</h3><h3><b>相同点：</b></h3><div>&nbsp; &nbsp; &nbsp; &nbsp; CRC、MD5、SHA1都是通过对数据进行计算，来生成一个校验值，该校验值用来校验数据的完整性。</div><h3>不同点：</h3><div><ol><li>算法不同。CRC采用多项式除法，MD5和SHA1使用的是替换、轮转等方法；<br></li><li>校验值的长度不同。CRC校验位的长度跟其多项式有关系，一般为16位或32位；MD5是16个字节（128位）；SHA1是20个字节（160位）；<br></li><li>校验值的称呼不同。CRC一般叫做CRC值；MD5和SHA1一般叫做哈希值（Hash）或散列值；<br></li><li>安全性不同。这里的安全性是指检错的能力，即数据的错误能通过校验位检测出来。CRC的安全性跟多项式有很大关系，相对于MD5和SHA1要弱很多；MD5的安全性很高，不过大概在04年的时候被山东大学的王小云破解了；SHA1的安全性最高。<br></li><li>效率不同，CRC的计算效率很高；MD5和SHA1比较慢。<br></li><li>用途不同。CRC一般用作通信数据的校验；MD5和SHA1用于安全（Security）领域，比如文件校验、数字签名等。</li></ol></div></div><div class="cell text-cell"><h2><br>07、使用AssetBundle遇到的一些问题</h2></div><div class="cell text-cell"><h3><ul><li><span style="font-size: 13px;">A list of the currently downloaded AssetBundles,and their versioning information.&nbsp;</span>当前下载的资源包列表，以及它们的版本信息<br></li><li><span style="font-size: 13px;">A list of the AssetBundles on the server,and their versioning information.&nbsp;</span>服务器上的资源包列表，以及它们的版本信息</li></ul></h3></div><div class="cell text-cell"><b>常见问题：</b></div><div class="cell text-cell"><div><ul><li><b>依赖包重复问题</b><br></li><ul><li>把需要共享的资源打包到一起</li><li>分割包，这些包不是在同一时间使用的</li><li>把共享部分打包成一个单独的包</li></ul></ul></div></div><div class="cell text-cell"><div><ul><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">图集重复问题 </font>&nbsp;packingTag图集名</b><br></li><li><b>Android贴图问题</b><br></li><li><b>iOS文件处理重复fixed in Unity 5.3.2p2.</b></li></ul></div></div><div class="cell text-cell"><h2>&nbsp;08、查看Unity设置了哪些AssetBundle</h2></div><div class="cell text-cell"><ul><li><b>AssetBundleBrowerTool插件</b></li></ul></div><div class="cell text-cell"><ul><li><b>StremingAssets 流资源（原封不动的将所有资源都会放在安装包内，不经过加密或任何处理）</b></li></ul></div><div class="cell markdown-cell"><p><img src="resources/4906DE905574C2CE6812DDC3FB315C87.png" alt="截屏2021-01-26 10.59.56.png" width="961" height="471"></p>
</div><div class="cell text-cell"><div><br></div></div><div class="cell text-cell"><span style="font-size: 17px;"></span></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = 'A计划路线.html';
if (e.keyCode === 37) window.location.href = 'DoozyUI插件的使用.html';
}</script>
    </body>
    </html>
  