
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='Unity粒子系统基础知识.html'>Unity粒子系统基础知识</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>Unity项目架构设计与开发管理</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><h2><b>架构设计</b></h2></div><div class="cell text-cell"><ul><li>EmptyGO<br></li><li>Simple GameManager<br></li><li>Manager of Mangers<br></li><li>MVCS(StrageLoc)<br></li><li>MVVM（uFrame）</li></ul></div><div class="cell text-cell"><b>EmptyGO</b></div><div class="cell text-cell"><ul><li>Put all the code without visual representation in the world onto an empty game object。<br></li><li>Use <font color="#323232" style="background-color: rgb(254, 250, 0);"><b>GameObject.Find()</b> </font>or inspector target references to communicate with each other。<br></li></ul></div><div class="cell text-cell"><b>Simple GameManager</b></div><div class="cell text-cell">&nbsp; &nbsp; &nbsp; Singleton &nbsp;Instance 架构的雏形。集中控制<br><b></b><div></div><div><ul><li>&nbsp; &nbsp; &nbsp; Make the EmptyGO as a Singleton。<br></li><li>&nbsp; &nbsp; &nbsp; Good and appropriate for small projects。（小项目）<br></li><li>&nbsp; &nbsp; &nbsp; Its not plug-and-play。 即插即用</li></ul></div></div><div class="cell text-cell"><div><b>Manager of Managers （中型项目）</b></div></div><div class="cell text-cell">&nbsp; &nbsp; <b><font color="#323232" style="background-color: rgb(254, 250, 0);">MainManager</font></b>: &nbsp;EventManager（各个模块消息之间的传递管理）、AudioManager（音频文件管理）、GUIManager（GUI点击事件）、PoolManager（池管理）、LevelManager（关卡管理）、GameManager（游戏场景管理）、SaveManager（加载保存管理）、MenuManager（panel外观上的动画效果）… …<div><br></div><div>&nbsp; &nbsp; 目的：以后的项目中可以复用代码。<br><div><b></b></div><div><ul><li>&nbsp; &nbsp; MainManager customizes and manages all the submanagers.(定制管理)<br></li><li>&nbsp; &nbsp; Submanagers operate as <b>singletons</b> and can easily address each other to collaborate.</li></ul></div></div></div><div class="cell text-cell">一个中型的项目必须有：<div><ul><li><b>LevelManager<br></b></li><li><b>PoolManager<br></b></li><li><b>SaveManager</b><br></li></ul></div><div>最好有：</div><div><ul><li>&nbsp; &nbsp; <b>GameManager</b><br></li><li>&nbsp; &nbsp; EventManager（UI和逻辑分离为核心思想）<br></li><li>&nbsp; &nbsp; MenuManager<br></li><li>&nbsp; &nbsp; GUIManager<br></li><li>&nbsp; &nbsp; AudioManager</li></ul></div></div><div class="cell markdown-cell"><p><img src="resources/CC25A84DE4298AC4D5E275DDD6A8F423.png" alt="00.png"></p>
</div><div class="cell text-cell"><h2><b>01、LevelManager</b></h2></div><div class="cell text-cell">&nbsp; &nbsp; &nbsp;Native LoadLevel() API is simple to use, but there are some issues.<b></b><div></div></div><div class="cell text-cell"><div><b>Issue 1: &nbsp;</b></div><div><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b>You need to know the scene name or the index of the scene you want to load ,but most probably the name or order will be changed later.</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Application</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadLevel</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">FirstLevel</span><span class="ace_string ace_end">"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Application</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadLevel</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">1</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell text-cell">关卡多的时候，更改名字十分麻烦。index更不提倡使用！ &nbsp;</div><div class="cell text-cell"><b>Issue2:</b><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; There’s no simple method of passing arguments to a scene, e.g.,assuming you’re <b>reusing one scene </b>for many different levels.</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Allication</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadLevel</span><span class="ace_paren ace_lparen">(</span><span class="ace_string ace_start">"</span><span class="ace_string">FirstLevel</span><span class="ace_string ace_end">"</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">LevelArgs</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span> <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">带</span><span class="ace_cjk" style="width:NaNpx">上</span><span class="ace_cjk" style="width:NaNpx">点</span><span class="ace_cjk" style="width:NaNpx">参</span><span class="ace_cjk" style="width:NaNpx">数</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">使</span><span class="ace_cjk" style="width:NaNpx">得</span><span class="ace_cjk" style="width:NaNpx">两</span><span class="ace_cjk" style="width:NaNpx">个</span><span class="ace_cjk" style="width:NaNpx">关</span><span class="ace_cjk" style="width:NaNpx">卡</span><span class="ace_cjk" style="width:NaNpx">存</span><span class="ace_cjk" style="width:NaNpx">在</span><span class="ace_cjk" style="width:NaNpx">一</span><span class="ace_cjk" style="width:NaNpx">定</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">联</span><span class="ace_cjk" style="width:NaNpx">系</span><span class="ace_cjk" style="width:NaNpx">。</span></span>
</div></div></div></div><div class="cell text-cell"><div><b>Issue3:</b></div><div><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</b>Managing multiple level work flows is not a simple task, suppose you want to create two versions of your game:demo and the full version.</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Application</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadLevel</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">1</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Application</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadLevel</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Application</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">LoadLevel</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">2</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span> 
</div></div></div></div><div class="cell text-cell"><div><br></div></div><div class="cell text-cell"><div><b>Level Manager Design</b></div><div><ul><li>&nbsp; &nbsp; &nbsp; Compose<b> a configuration table</b>.&nbsp;<br></li><li>&nbsp; &nbsp; &nbsp; Create a new API:（LevelManager.LoadNext();）</li><li>&nbsp; &nbsp; &nbsp; In the configration table,It also should be allowed to <b>set an argument</b> line for each level.</li><li>&nbsp; &nbsp; &nbsp; Then this argument line can be easily accessed later.&nbsp;</li><li>&nbsp; &nbsp; &nbsp; It should be allowed to <b>create multiple configuration tables</b>, and before building your application <b>switch between them</b>.</li><li>&nbsp; &nbsp; &nbsp; In that way you can quickly create <b>two different versions</b> of your game!</li><li>&nbsp; &nbsp; &nbsp; <b>More</b></li><li>&nbsp; &nbsp; &nbsp;With a Level Manager, you can also manage the<b> transitions</b> between two levels easily: transparency、color、animation...</li></ul></div><div>参考：Mad Level Manager (AppStore)</div></div><div class="cell text-cell"><div></div><div><br></div><div><br></div><div><br></div></div><div class="cell text-cell"><h2><b>02、Pool Manager</b></h2><div><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b>MMO游戏、RPG为主。</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;需要频繁的创建角色、敌人。Load/Destroy</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;解决了内存管理的问题。</div></div><div class="cell text-cell"><b>A Simple Pool Design</b><div></div><div><ul><li><b>&nbsp;</b>Maintain a list of dormant objects in the pool class:<br></li></ul></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">private</span> <span class="ace_identifier">List</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span> <span class="ace_identifier">dormantObjects</span><span class="ace_keyword ace_operator">=</span><span class="ace_keyword">new</span> <span class="ace_identifier">List</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">GameObject</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">休</span><span class="ace_cjk" style="width:NaNpx">眠</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">物</span><span class="ace_cjk" style="width:NaNpx">体</span> </span>
</div></div></div></div><div class="cell text-cell"><div><ul><li>The list contains all different types of game objects/prefabs.</li></ul></div></div><div class="cell text-cell">从池中拿出物体，创建物体</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_identifier">GameObject</span> <span class="ace_identifier">Spawn</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">GameObject</span> <span class="ace_identifier">go</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">GameObject</span> <span class="ace_identifier">temp</span><span class="ace_keyword ace_operator">=</span><span class="ace_constant ace_language">null</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dormantObjects</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Count</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">foreach</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">GameObject</span> <span class="ace_identifier">dob</span> <span class="ace_keyword">in</span> <span class="ace_identifier">dormantObjects</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dob</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">name</span><span class="ace_keyword ace_operator">==</span><span class="ace_identifier">go</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">name</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_comment">//Find an avilable GameObject.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">temp</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">dob</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">dormantObjects</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Remove</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">temp</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">从</span><span class="ace_cjk" style="width:NaNpx">池</span><span class="ace_cjk" style="width:NaNpx">子</span><span class="ace_cjk" style="width:NaNpx">中</span><span class="ace_cjk" style="width:NaNpx">拿</span><span class="ace_cjk" style="width:NaNpx">出</span><span class="ace_cjk" style="width:NaNpx">这</span><span class="ace_cjk" style="width:NaNpx">个</span><span class="ace_cjk" style="width:NaNpx">物</span><span class="ace_cjk" style="width:NaNpx">体</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_identifier">temp</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">//Now instantiate a new GameObject.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">temp</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">GameObject</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Instantiate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">go</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword">as</span> <span class="ace_identifier">GameObject</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">temp</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">name</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">go</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">return</span> <span class="ace_identifier">temp</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell">物品先不立即销毁，先放入池子中</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">void</span> <span class="ace_identifier">Despawn</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">GameObject</span> <span class="ace_identifier">go</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_identifier">go</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">transform</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">parent</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">PoolManager</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">transform</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_identifier">go</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">SetActive</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_language ace_boolean">false</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_identifier">dormantObjects</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Add</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">go</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_identifier">Trim</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell text-cell">检查池子中的个数<div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">public</span> <span class="ace_keyword">void</span> <span class="ace_identifier">Trim</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">while</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dormantObjects</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Count</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_identifier">Capacity</span><span class="ace_paren ace_rparen">)</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">池</span><span class="ace_cjk" style="width:NaNpx">子</span><span class="ace_cjk" style="width:NaNpx">中</span><span class="ace_cjk" style="width:NaNpx">的</span><span class="ace_cjk" style="width:NaNpx">个</span><span class="ace_cjk" style="width:NaNpx">数</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">GameObject</span> <span class="ace_identifier">dob</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">dormantObjects</span><span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">]</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">dormantObjects</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">RemoveAt</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span><span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">先</span><span class="ace_cjk" style="width:NaNpx">进</span><span class="ace_cjk" style="width:NaNpx">先</span><span class="ace_cjk" style="width:NaNpx">出</span><span class="ace_cjk" style="width:NaNpx">，</span><span class="ace_cjk" style="width:NaNpx">移</span><span class="ace_cjk" style="width:NaNpx">除</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">Destroty</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dob</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span> 
</div></div></div></div><div class="cell text-cell"><div><b>Problems</b></div><div><ul><li><b>&nbsp; &nbsp; &nbsp;&nbsp;</b>&nbsp;This pool is not able to manage the Load/Unload of <b>&nbsp;</b><br></li><li>&nbsp; &nbsp; &nbsp; &nbsp;Only dormant objects are managed in the pool, <b>active objets</b> must be managed out of pool separately.<br></li><li>&nbsp; &nbsp; &nbsp; &nbsp;The total number of dormant objects can be controlled, rather than the instances of each prefab.</li></ul></div></div><div class="cell text-cell"><div><b>A Better Design</b></div></div><div class="cell text-cell"><ul><li><b>The recommended pool hierarchy</b>:&nbsp;</li></ul></div><div class="cell text-cell"><div>PoolManager. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp; top pool manager</div><div>&nbsp; &nbsp; SpawnPool &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp; <b>for a type of prefabs</b></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrefabPool &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &nbsp; <b>for a prefab</b></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active instances.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Inactive instance.</div></div><div class="cell markdown-cell"><p><img src="resources/E533FE70B272122F0B9E2CD9B40C9E85.png" alt="截屏2021-01-20 14.13.09.png" width="1839" height="677"></p>
</div><div class="cell text-cell"><p><strong>PoolManager</strong></p>
</div><div class="cell text-cell"><ul><li>Design rules for PoolManager</li><ul><li>As a singleton.</li><li>Manage multiple SpawnPools.</li></ul></ul></div><div class="cell text-cell"><ul><li>Design rules for SpawnPool</li><ul><li>Define <b>an empty object</b>, set its transform as<b> the parent of</b> <b>all the instances</b> in the pool.</li><li>Manager multiple PrefabPools via a dictionary.</li></ul></ul></div><div class="cell text-cell"><ul><li>Creat a PrefabPool for each prefab.</li><ul><li>Maintains a list of activated objects an another list of reactive objects. 维护</li><li><b>Centrally manage</b> the Load/Unload process here. &nbsp; &nbsp; 集中管理prefab的加载/卸载</li></ul></ul></div><div class="cell text-cell"><p><strong>PrefabPool</strong></p></div><div class="cell text-cell"><ul><li>PrefabPools for bullets, flares…(子弹、火球)<br></li><ul><li>You should set a limitation number for instances, and culling the overflowed instances from the _despawned list.</li><li>When reaching the limitation, you can choose to give up generating new instances , or deem the despaired list <b>as a FIFO</b> and move the first instance to the last.</li></ul></ul></div><div class="cell text-cell"><ul><li>PrefabPool for characters</li><ul><li>Avoid setting an instance limitation number. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;避免设置实例限制数</li><li>If really necessary, follow the following rules: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;如果真的有必要，请遵循以下规则:</li><ul><li>Waits for “cullDelay” in seconds and culls the &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 等待几秒再删除</li><li>cull less than 5 instances each time. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 每次删除少于5个实例（缓释，不会突然卡顿）</li><li>Start a separate coroutine to do the culling work. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;启动一个单独的协程来做删除工作</li></ul></ul></ul></div><div class="cell text-cell"></div><div class="cell text-cell"></div><div class="cell text-cell"><h2>03、SaveManager</h2></div><div class="cell text-cell"><b>&nbsp; &nbsp; &nbsp; 一般来说，使用xml/json</b>来存储。SaveManager（appStore）二进制 读取存储。</div><div class="cell text-cell"><b>Purpose</b></div><div class="cell text-cell"><ul><li>Save and load user preferences and achievements. &nbsp;预设和成就</li><li>&nbsp; &nbsp;Quit/ resume game. 退出/恢复&nbsp;</li></ul></div><div class="cell text-cell"><b>Save/Load</b></div><div class="cell text-cell">A lot of developers are used to save/load data with Json/Xml files.<div>Is there any better solution?</div><div><br></div><div><b>Easy Save 2</b></div><div><ul><li>&nbsp;<b> Serialize </b>almost any type of data.<br></li><li>&nbsp; It’s Fast, even on mobile devices.</li><li>&nbsp; Significantly faster and user much less memory compared to Json and Xml serialization.</li><li>&nbsp; Encrypt save data efficiently and securely. &nbsp;// &nbsp;加密有效和安全地保存数据</li><li>&nbsp; Obfuscation for fast data scrambling. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp;用于快速数据置乱的模糊处理</li><li>&nbsp; Snap a screen. //抓屏操作</li></ul></div></div><div class="cell text-cell"><div><br></div><div></div></div><div class="cell text-cell"><h2><b>04、MVCS: &nbsp;StrangeLoc</b></h2></div><div class="cell text-cell"><b>Several issues</b></div><div class="cell text-cell"><ul><li>UI events</li></ul><b></b></div><div class="cell markdown-cell"><p><img src="resources/92344232A2C7FD9CB4A60CCBBDD17318.png" alt="截屏2021-01-20 15.05.05.png">****</p>
</div><div class="cell text-cell"><p>如果UI多了之后，后期修改容易出错。</p>
<p><b>目的：将Button的点击事件和逻辑剥离开来。</b></p></div><div class="cell markdown-cell"><p><img src="resources/5832A6817AC64FCE3CC223876AF77EB1.png" alt="截屏2021-01-20 15.12.32.png"></p>
</div><div class="cell markdown-cell"></div><div class="cell text-cell"><p><strong>StrangeLoc Framework</strong></p></div><div class="cell text-cell"><ul><li><b>The Core of the framework : &nbsp;<font color="#323232" style="background-color: rgb(254, 250, 0);">Binding</font></b></li></ul></div><div class="cell text-cell"><b>The structure of a binging-01</b></div><div class="cell text-cell"><ul><li><b>Basic Structure</b></li><ul><li>IBinder.Bind&lt;key&gt;().To&lt;Value&gt;(); &nbsp; //将两个东西绑定在一块。</li></ul></ul><ul><li><b>The key triggers the value</b><br></li><li><b>Advanced Structure</b></li><ul><li>IBinder.Bind&lt;key&gt;().To&lt;Value&gt;().ToName(name);</li></ul><li><b>The name is a discriminator:</b></li><ul><li>if two bingdings have identical keys, the name serves as a discriminator. &nbsp;// &nbsp;如果绑定两个具有相同的键，则该名称作为一个标识符。</li></ul></ul></div><div class="cell text-cell"><b>Types Of Binding 绑定类型</b></div><div class="cell markdown-cell"><p><img src="resources/8C4B6024210A500519EB8ECD11459811.png" alt="截屏2021-01-20 15.40.33.png" width="1880" height="742"></p>
</div><div class="cell markdown-cell"><p><img src="resources/D5CB8FD28B33DC01DD8B60D42921A233.png" alt="截屏2021-01-20 15.49.01.png" width="1797" height="636"></p>
</div><div class="cell text-cell"><p>任何一个UI事件都需要 <b>View Mediator</b>( 视图中介) 传递一次。</p></div><div class="cell markdown-cell"><p><img src="resources/C05D315A4CFE7DCD0B2DEA2C68199E2B.png" alt="截屏2021-01-20 15.54.16.png"></p>
</div><div class="cell text-cell"><p><strong>MVCS</strong></p></div><div class="cell text-cell"><ul><li>A View only does display and input. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp; 视图只显示和输入。<br></li><li>The Mediator connects the View with the rest of your app. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp; 中介将视图与应用程序的其余部分连接起来。</li><li>Commands are classes triggered by events. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp;&nbsp;命令是由事件触发的类。</li></ul></div><div class="cell text-cell"><h3><b>Mediator</b></h3></div><div class="cell text-cell">Mediator controls how your views (GameObjects) interface with the rest of your app.</div><div class="cell markdown-cell"><p><img src="resources/0FDAE8E2E91FA1242FC2EC279A9FAD86.png" alt="截屏2021-01-20 16.01.20.png"></p>
</div><div class="cell text-cell"><p><strong>Bingding</strong></p></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">mediationBinder</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Bind</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">Example</span> <span class="ace_identifier">View</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">To</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">ExampleMediator</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>  <span class="ace_comment">//<span class="ace_cjk" style="width:NaNpx">绑</span><span class="ace_cjk" style="width:NaNpx">定</span></span>
</div></div></div></div><div class="cell text-cell"><div><br></div></div><div class="cell text-cell"><div><b>Dispatcher</b></div></div><div class="cell text-cell"><div><b></b></div><div></div><div><div><ul><li><b>Simple format.</b></li></ul></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">dispatcher</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Dispatch</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">AttackEvent</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">FIRE_MISSILE</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell text-cell"><ul><li><b>Event+Data</b></li></ul></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">Vector3</span> <span class="ace_identifier">orientation</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">gameObject</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">tranform</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">localRoatation</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">eulerAngles</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">dispatcher</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Dispatch</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">AttachEvent</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">FIRE_MISSILE</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">orientation</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell text-cell"><div><b>Listener</b></div></div><div class="cell text-cell"><ul><li><b>if listener is a method.</b></li></ul></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">dispatcher</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">AddListener</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">AttackEvent</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">FIRE_MISSILE</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">onMissileFire</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">dispatcher</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">RemoveListener</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">AttrackEvent</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">FIRE_MISSILE</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">onMissileFire</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell text-cell"><ul><li><b>If listener is a Command</b></li></ul></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">commandBinder</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Bind</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">GameEvent</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">GUN_FIRE</span><span class="ace_punctuation ace_operator">,</span><span class="ace_identifier">onGunFireCommand</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">OnGunFireCommand</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">EventCommand</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">override</span> <span class="ace_keyword">public</span> <span class="ace_keyword">void</span> <span class="ace_identifier">Execute</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_punctuation ace_operator">....;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell markdown-cell"><p><img src="resources/E065C733015909FEECCB7F03593B58B7.png" alt="截屏2021-01-20 16.20.18.png" width="1756" height="640"></p>
</div><div class="cell text-cell"><div><b>Bingding interface &amp; Implementation 接口&amp;实现</b></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">interface</span> <span class="ace_identifier">IMonster</span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">IWeapon</span> <span class="ace_identifier">weapon</span><span class="ace_paren ace_lparen">{</span><span class="ace_identifier">get</span><span class="ace_punctuation ace_operator">;</span><span class="ace_identifier">set</span><span class="ace_punctuation ace_operator">;</span><span class="ace_paren ace_rparen">}</span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">Monster</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">IMonster</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">[</span><span class="ace_identifier">Inject</span><span class="ace_paren ace_rparen">]</span><span class="ace_comment">//The magic word! <span class="ace_cjk" style="width:NaNpx">注</span><span class="ace_cjk" style="width:NaNpx">入</span></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_identifier">IWeapon</span> <span class="ace_identifier">weapon</span><span class="ace_paren ace_lparen">{</span><span class="ace_identifier">get</span><span class="ace_punctuation ace_operator">;</span><span class="ace_identifier">set</span><span class="ace_punctuation ace_operator">;</span><span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">context</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">injectionBinder</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Bind</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">IWeapon</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">To</span><span class="ace_keyword ace_operator">&lt;</span><span class="ace_identifier">Gun</span><span class="ace_keyword ace_operator">&gt;</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">context</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">injectionBinder</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">Bind</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">To</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span>
</div></div></div></div><div class="cell text-cell"><b>缺点：</b></div><div class="cell text-cell"><ul><li><b>if you inject something, you have to map it, otherwise, it will result in null pointer errors. &nbsp; &nbsp; //&nbsp;</b>如果你注入一些东西，你必须映射它，否则，它会导致空指针错误。</li><li><b>Injection employs reflection, which is slow. &nbsp; //&nbsp;</b>注入使用反射，这是缓慢的。耗时</li></ul></div><div class="cell text-cell"><div><br></div><div><br></div><div></div></div><div class="cell text-cell"><h2>05、MVVM: UFrame&nbsp;</h2></div><div class="cell text-cell"><b>&nbsp;UFrame与StrangeLoc 很相似，但是</b><b>UFrame收费。AppStore（uFrame Game Framework），具有操作界面。</b></div><div class="cell markdown-cell"><p><img src="resources/58C5C8D5B974992BCCED616FA6DA01A8.png" alt="截屏2021-01-20 16.35.55.png"></p>
</div><div class="cell text-cell"><p><strong>ViewModel与</strong><b>View Mediator类似，</b><strong>ViewModel是在View与Model之间的东西。</strong></p></div><div class="cell text-cell"><b>uFrame includes:</b><p><strong></strong></p>
<div><ul><li>Visual editing tools<br></li><li>Code structure<br></li><li>and knowledage</li></ul></div></div><div class="cell text-cell"><div><b>Elements</b></div><div><ul><li><b>&nbsp; &nbsp;uFrame uses Elements to separate out the essential core logic and peripheral visual parts. //&nbsp;</b>uFrame使用元素来分离核心逻辑和外围视觉部分<br></li><li><b>&nbsp; &nbsp;An Element consists of :</b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</li><ul><li>&nbsp; ViewModel &nbsp; // &nbsp;视图模型</li><li>&nbsp; Controller &nbsp; &nbsp;// &nbsp; 控制器</li><li>&nbsp; One or more Views( and possibly some View Components) &nbsp;//一个或多个视图(可能还有一些视图组件)</li></ul></ul></div></div><div class="cell markdown-cell"><p><img src="resources/1FEB5DD7BE241C38914C27D6F62F2364.png" alt="截屏2021-01-20 16.48.01.png" width="1692" height="755"></p>
</div><div class="cell markdown-cell"><p><img src="resources/92A469E9FC40D9AE7F3A59A67544C322.png" alt="截屏2021-01-20 16.49.20.png" width="1676" height="747"></p>
</div><div class="cell markdown-cell"></div><div class="cell text-cell"><h2><b>06、Conclusion of architechure design</b></h2></div><div class="cell text-cell"><ul><li><b>Manager of managers<br></b></li><li><b>StrangeLoc</b> (UI分离较好)</li><li><b>uFrame</b></li></ul><div><b></b></div></div><div class="cell text-cell"><ul><li><b>The most critical principle is …//最关键的原则是..&nbsp;… &nbsp; &nbsp; ——UI 和 逻辑 分离开</b></li></ul></div><div class="cell text-cell"><div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></div><div class="cell text-cell"><h2>二、Development Management 开发管理</h2></div><div class="cell text-cell"><ul><li><b>Version Control. &nbsp; &nbsp; 日志里可以更改版本/.git ignore file</b></li><li><b>Development Standards &nbsp; 开发标准</b></li><ul><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);">Good Architecture=Good Standards</font></b></li><li><b><font color="#323232" style="background-color: rgb(254, 250, 0);"><br></font></b></li><ul><li><b><span style="caret-color: rgb(50, 50, 50);">Use C# &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &nbsp;</span>使用c#</b></li><li><b><span style="caret-color: rgb(50, 50, 50);">Naming conventions &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp;&nbsp;</span>命名约定</b></li><ul><li><span style="caret-color: rgb(50, 50, 50);"><b>Use descriptive names &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</b></span></li><li><b>使用描述性的名称</b></li><b><br></b></ul><li><b><span style="caret-color: rgb(50, 50, 50);">Logical folder&nbsp;structure. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &nbsp;</span>逻辑文件夹结构</b></li><ul><li><span style="caret-color: rgb(50, 50, 50);"><b>Use named empty game objects as scene folders</b></span></li><li><b>使用命名的空游戏对象作为场景文件夹</b></li></ul></ul></ul></ul></div><div class="cell text-cell"><ul><li><b>Coding standards &nbsp; 代码标准</b></li><ul><li><b>Zero-tolerance for warnings and errors. &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;</b>零容忍警告和错误</li><li><b>Zero-tolerance for runtime memory allocation? //&nbsp;</b>运行时内存分配的零容忍。内存泄露。 “零容忍动态开辟内存？”&nbsp;</li><li><b>Use Cache &nbsp; &nbsp; &nbsp; &nbsp;//&nbsp;</b>使用缓存</li><ul><li><b>Cache component references &nbsp;//&nbsp;</b>缓存组件的引用</li><ul><li><i>GetComponent&lt;ComponentName&gt;() is slow. &nbsp; &nbsp; 怎么避免呢？</i></li></ul><li><b>Cache objects references &nbsp;// &nbsp;</b>缓存对象的引用</li><ul><li><i>GameObject.Find(..) is very slow.</i></li></ul><li><b>Memory allocation with object pools &nbsp;//</b>使用对象池分配内存</li><li><b>Use sharing materials. //</b>使用共享材质</li></ul></ul></ul></div><div class="cell text-cell"><ul><li><b>Art resource standards &nbsp; 美工资源标准</b><br></li><ul><li><b>Reasonable &amp; strict &nbsp; //&nbsp;</b>合理的和严格的贯彻</li><li><b>Automatic tools. &nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;</b>自动化工具</li></ul></ul></div><div class="cell text-cell"><div></div></div><div class="cell text-cell"><div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></div><div class="cell text-cell"><h3><b>Unity Test Tools</b></h3></div><div class="cell text-cell"><ul><li>Published by Unity<br></li><li>Download from Asset Store</li><li>Free&nbsp;</li></ul></div><div class="cell text-cell"><b>Tools:</b><br></div><div class="cell text-cell"><ul><li>Unit test</li><li>Integration test</li><li>Assertion component</li></ul><h3><b></b></h3></div><div class="cell text-cell"></div><div class="cell text-cell"><br></div><div class="cell text-cell"><b></b><div></div></div><div class="cell text-cell">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<div></div></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = 'Unity粒子系统基础知识.html';
}</script>
    </body>
    </html>
  